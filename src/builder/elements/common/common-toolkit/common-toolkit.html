

<dom-module id="common-toolkit">
  <style>
    :host {
      @apply(--layout-horizontal);
      padding-right: 27px;
    }

    iron-collapse#details {
      @apply(--layout-horizontal);
    }

    iron-selector.side {
      @apply(--layout-horizontal);

      transform-origin: 0 0;
      transform: rotate(90deg) translate(0, -27px);
      position: absolute;

      background-color: #eee;
    }

    :host div.splitter {
      background-color: #444;
      border-left: 2px solid #777;
      width: 4px;
      cursor: col-resize;
    }

    div.content {
      @apply(--layout-vertical);
    }

    iron-pages {
      width: 200px;
      height: 100%;
    }


    .content iron-pages {
      @apply(--layout-flex);
    }
    .content iron-pages ::content > *{
      /*width: 100%;*/
      /*height: 100vh;*/
    }
    .side ::content .iron-selected {
      border-bottom: 3px solid red;
    }
    .side ::content > * {
      border-bottom: 3px solid rbga(0, 0, 0, 0);
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      user-select: none;
    }
    div.content div.header {
      background-color: #fafafa;
    }
    div.content div.header iron-icon.header-icon {
      --iron-icon-width: 22px;
      padding: 0 3px;
      border: 1px solid rgba(0, 0,0,0);
      cursor: pointer;
      margin-left: 2px;
    }
    div.content div.header iron-icon.header-icon:hover {
      --iron-icon-fill-color: #bbb;
      background-color: #ddd;
      border-radius: 5px;
      border: 1px solid #bbb;
    }
  </style>

  <template>
    <iron-collapse id="details" horizontal>
      <div class="splitter" on-track="track" on-down="preventSelection"></div>

      <div class="content">
        <div class="header">
          <iron-icon on-tap="close" class="header-icon" icon="icons:visibility-off"></iron-icon>
        </div>
        <iron-pages selected="{{selected}}" >
          <content select="[main]"></content>
        </iron-pages>
      </div>
    </iron-collapse>

    <iron-selector class="side" selected="{{selected}}">
      <content select="[toolbar]"></content>
    </iron-selector>
  </template>

  <script src="common-toolkit.js"></script>
</dom-module>